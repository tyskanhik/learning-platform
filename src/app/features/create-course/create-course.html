<app-header></app-header>

<div class="create-course-container">
  <mat-card class="create-course-card">
    <mat-card-header class="card-header">
      <div class="header-content">
        <mat-card-title>
          <span transloco="create_course.title"></span>
        </mat-card-title>
        <mat-card-subtitle>
          <span transloco="create_course.subtitle"></span>
        </mat-card-subtitle>
      </div>
      <div class="header-icon">
        <mat-icon>add_circle</mat-icon>
      </div>
    </mat-card-header>
    
    <mat-card-content>
      <form [formGroup]="courseForm" (ngSubmit)="onSubmit()" class="create-course-form">
        <div class="form-fields">
          <!-- Course Name -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>
              <span transloco="create_course.name"></span>
            </mat-label>
            <input 
              matInput 
              formControlName="title"
              [placeholder]="'create_course.name' | transloco"
            >
            <mat-icon matSuffix>title</mat-icon>
            @if (courseForm.controls.title.hasError('required') && courseForm.controls.title.touched) {
              <mat-error>
                <span>course name required"</span>
              </mat-error>
            }
          </mat-form-field>

          <!-- Course Description -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>
              <span transloco="create_course.description"></span>
            </mat-label>
            <textarea 
              matInput 
              formControlName="description"
              [placeholder]="'create_course.description' | transloco"
              rows="4"
            ></textarea>
            <mat-icon matSuffix>description</mat-icon>
            @if (courseForm.controls.description.hasError('required') && courseForm.controls.description.touched) {
              <mat-error>
                <span>course description required</span>
              </mat-error>
            }
          </mat-form-field>

          <!-- Course Category -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>
              <span transloco="create_course.category"></span>
            </mat-label>
            <input 
              matInput 
              formControlName="category"
              placeholder="Frontend, Backend, Design, Mobile, Data Science"
            >
            <mat-icon matSuffix>category</mat-icon>
            @if (courseForm.controls.category.hasError('required') && courseForm.controls.category.touched) {
              <mat-error>
                <span>course category required</span>
              </mat-error>
            }
          </mat-form-field>

          <!-- Difficulty and Language -->
          <div class="form-row">
            <mat-form-field appearance="outline" class="half-width">
              <mat-label>
                <span transloco="create_course.difficulty"></span>
              </mat-label>
              <mat-select formControlName="difficulty">
                <mat-option value="beginner">
                  <span class="difficulty-option beginner">
                    <span transloco="home.beginner"></span>
                  </span>
                </mat-option>
                <mat-option value="intermediate">
                  <span class="difficulty-option intermediate">
                    <span transloco="home.intermediate"></span>
                  </span>
                </mat-option>
                <mat-option value="advanced">
                  <span class="difficulty-option advanced">
                    <mat-icon>star</mat-icon>
                    <span transloco="home.advanced"></span>
                  </span>
                </mat-option>
              </mat-select>
              <mat-icon matSuffix>speed</mat-icon>
            </mat-form-field>
          </div>

          <!-- Demo Notice -->
          <div class="demo-notice" role="alert">
            <mat-icon>info</mat-icon>
            <div class="notice-content">
              <strong>Demo Version</strong>
              <p>This is a demonstration form. Course creation functionality is not implemented in this version.</p>
            </div>
          </div>
        </div>

        <mat-card-actions class="form-actions">
          <button 
            mat-raised-button 
            color="primary" 
            type="submit"
            class="create-button"
            [disabled]="!courseForm.valid || isLoading()"
          >
            @if (isLoading()) {
              <mat-spinner diameter="20" class="button-spinner"></mat-spinner>
            } @else {
              <mat-icon>add_circle</mat-icon>
            }
            <span transloco="create_course.create"></span>
          </button>
          
          <button 
            mat-button 
            type="button"
            (click)="onCancel()"
            class="cancel-button"
            [disabled]="isLoading()"
          >
            <mat-icon>cancel</mat-icon>
            <span transloco="create_course.cancel"></span>
          </button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
</div>